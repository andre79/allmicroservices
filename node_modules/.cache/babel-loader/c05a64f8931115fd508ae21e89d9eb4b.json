{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/andre/Documentos/gitproject/allmicroservices/src/pages/cart/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport styled from 'styled-components';\nimport { Grid, Container, Table, Message, Button, Header, List, Divider, Input, Step, Icon, Form } from 'semantic-ui-react';\nimport Menu from '../../components/header';\nimport { fetchData, listCache, setCache, postData } from '../../services/Resource';\nimport { useToasts } from 'react-toast-notifications';\n\nconst Cart = () => {\n  _s();\n\n  let history = useHistory();\n  const initialAddress = {\n    cep: '',\n    city: '',\n    complement: '',\n    neighborhood: '',\n    number: '',\n    phone: '',\n    recipient: '',\n    'street-name': ''\n  };\n  const initialCard = {\n    'card-number': '',\n    'due-date': '',\n    'main-name': '',\n    'safe-code': ''\n  };\n  const {\n    addToast\n  } = useToasts();\n  const [products, setProducts] = useState([]);\n  const [isLogged, setIsLogged] = useState(false);\n  const [totalSum, setTotalSum] = useState('0,00');\n  const [totalQuantity, setTotalQuantity] = useState(0);\n  const [checkoutItems, setCheckoutItems] = useState(0);\n  const [cep, setCep] = useState('');\n  const [orderInfo, setOrderInfo] = useState(null);\n  const [cepMessage, setCepMessage] = useState(false);\n  const [stepPage, setStepPage] = useState(1);\n  const [address, setAddress] = useState(initialAddress);\n  const [card, setCard] = useState(initialCard);\n\n  const sumOfProducts = checkout => {\n    const convertToSum = checkout.map(item => item.price.replace(',', '.'));\n    const totalPrice = convertToSum.reduce((acumulador, valorAtual) => acumulador + parseFloat(valorAtual), 0);\n    return totalPrice.toFixed(2).toString().replace('.', ',');\n  };\n\n  const sumTotal = (productValue, deliveryValue) => {\n    const convertToSumA = productValue.replace(',', '.');\n    const convertToSumB = deliveryValue.replace(',', '.');\n    return parseFloat(convertToSumA) + parseFloat(convertToSumB);\n  };\n\n  useEffect(() => {\n    const storage = listCache('storageCoffee');\n    const auth = listCache('userCoffee');\n    setTotalSum(storage ? sumOfProducts(storage) : 0);\n    setTotalQuantity(storage ? storage.length : 0);\n    setProducts(storage ? storage : []);\n    setIsLogged(auth ? true : false);\n  }, [setProducts]);\n\n  const handleRemove = id => {\n    const newStorage = products.filter(item => item.id !== id);\n    setCache('storageCoffee', [...newStorage]);\n    setProducts([...newStorage]);\n    setTotalSum(sumOfProducts(newStorage));\n    setCheckoutItems(newStorage.length);\n    setTotalQuantity(newStorage.length);\n    addToast('Item removido de sua sacola', {\n      appearance: 'success',\n      autoDismiss: true\n    });\n  };\n\n  const cepValidate = () => {\n    fetchData(`shipping/${cep}`).then(({\n      data\n    }) => {\n      setOrderInfo(data.shipping);\n      setCepMessage(false);\n    }).catch(err => {\n      setCepMessage(true);\n    });\n  };\n\n  const handleChangeAddress = event => {\n    const value = event.target.value;\n    setAddress({ ...address,\n      [event.target.name]: value\n    });\n  };\n\n  const handleChangeCard = event => {\n    const value = event.target.value;\n    setCard({ ...card,\n      [event.target.name]: value\n    });\n  };\n\n  const handleSubmit = () => {\n    const auth = listCache('userCoffee');\n    const payload = {\n      user: {\n        idUser: auth.id.toString()\n      },\n      products,\n      address,\n      card\n    };\n    const sum = sumTotal(totalSum, orderInfo.value).toFixed(2);\n    payload.card.total = sum.toString().replace('.', ',');\n    postData(`checkout`, payload).then(({\n      data\n    }) => {\n      history.push('/confirmed');\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const stepComponent = () => /*#__PURE__*/_jsxDEV(Grid.Row, {\n    children: /*#__PURE__*/_jsxDEV(Grid.Column, {\n      width: 16,\n      children: /*#__PURE__*/_jsxDEV(Step.Group, {\n        fluid: true,\n        size: \"tiny\",\n        children: [/*#__PURE__*/_jsxDEV(Step, {\n          active: stepPage === 1 ? true : false,\n          disabled: stepPage === 1 ? false : true,\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            name: \"shopping basket\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Step.Content, {\n            children: [/*#__PURE__*/_jsxDEV(Step.Title, {\n              children: \"Checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Step.Description, {\n              children: \"Selecione os itens para compra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Step, {\n          active: stepPage === 2 ? true : false,\n          disabled: stepPage === 2 ? false : true,\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            name: \"home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Step.Content, {\n            children: [/*#__PURE__*/_jsxDEV(Step.Title, {\n              children: \"Endere\\xE7o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Step.Description, {\n              children: \"Digite o endere\\xE7o para entrega\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Step, {\n          active: stepPage === 3 ? true : false,\n          disabled: stepPage === 3 ? false : true,\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            name: \"payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Step.Content, {\n            children: [/*#__PURE__*/_jsxDEV(Step.Title, {\n              children: \"Pagamento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Step.Description, {\n              children: \"Digite os dados para pagamento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Step, {\n          active: stepPage === 4 ? true : false,\n          disabled: stepPage === 4 ? false : true,\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            name: \"file alternate outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Step.Content, {\n            children: [/*#__PURE__*/_jsxDEV(Step.Title, {\n              children: \"Pedido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Step.Description, {\n              children: \"Revise e confirme o pedido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }, this);\n\n  const stepCheckout = () => /*#__PURE__*/_jsxDEV(Grid, {\n    className: \"content-inner\",\n    children: [products.length > 0 && stepComponent(), /*#__PURE__*/_jsxDEV(Grid.Row, {\n      children: [/*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 10,\n        children: products.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Table, {\n            basic: \"very\",\n            children: [/*#__PURE__*/_jsxDEV(Table.Header, {\n              children: /*#__PURE__*/_jsxDEV(Table.Row, {\n                children: [/*#__PURE__*/_jsxDEV(Table.HeaderCell, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n                  children: \"Quantidade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n                  children: \"Pre\\xE7o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Table.Body, {\n              children: products && products.map(item => /*#__PURE__*/_jsxDEV(Table.Row, {\n                children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item['image_thumb'],\n                    alt: \"\",\n                    height: \"76\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 88\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                  children: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                  children: `R$ ${item.price}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    circular: true,\n                    icon: \"trash alternate outline\",\n                    onClick: () => handleRemove(item.id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Calcule frete e prazo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Digite o cep\",\n            maxlength: \"8\",\n            style: {\n              margin: '0 10px'\n            },\n            value: cep,\n            onChange: e => setCep(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            content: \"OK\",\n            color: \"blue\",\n            onClick: () => cepValidate()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), cepMessage && /*#__PURE__*/_jsxDEV(Message, {\n            visible: true,\n            warning: true,\n            children: \"Ops, ocorreu um erro inesperado. Tente novamente.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Message, {\n          visible: true,\n          children: \"Sua sacola est\\xE1 vazia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), products.length > 0 && /*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 6,\n        children: /*#__PURE__*/_jsxDEV(Order, {\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            as: \"h3\",\n            children: \"Resumo do pedido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            verticalAlign: \"middle\",\n            children: [/*#__PURE__*/_jsxDEV(List.Item, {\n              children: [/*#__PURE__*/_jsxDEV(List.Content, {\n                floated: \"right\",\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: `R$ ${totalSum}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 63\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(List.Content, {\n                children: `${totalQuantity} produtos`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 29\n            }, this), orderInfo && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(List.Item, {\n                children: [/*#__PURE__*/_jsxDEV(List.Content, {\n                  floated: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: `R$ ${orderInfo.value}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 71\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(List.Content, {\n                  children: \"Frete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n                children: /*#__PURE__*/_jsxDEV(List.Content, {\n                  children: [\"Entrega em \", orderInfo.days, \" \\xFAteis\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n                children: [/*#__PURE__*/_jsxDEV(List.Content, {\n                  floated: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: `R$ ${sumTotal(totalSum, orderInfo.value).toFixed(2)}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 71\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(List.Content, {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"TOTAL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 55\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                fluid: true,\n                color: \"yellow\",\n                onClick: () => {\n                  if (isLogged) {\n                    setStepPage(2);\n                  } else {\n                    setCache('goBack', 'sacola');\n                    history.push('/login');\n                  }\n\n                  ;\n                },\n                children: \"Fechar pedido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 9\n  }, this);\n\n  const stepAddress = () => /*#__PURE__*/_jsxDEV(Grid, {\n    className: \"content-inner\",\n    children: [products.length > 0 && stepComponent(), /*#__PURE__*/_jsxDEV(Grid.Row, {\n      children: /*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 16,\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            children: /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"Destinat\\xE1rio\",\n              name: \"recipient\",\n              value: address.recipient,\n              onChange: handleChangeAddress,\n              width: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"Endere\\xE7o\",\n              name: \"street-name\",\n              value: address['street-name'],\n              onChange: handleChangeAddress,\n              width: 8\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"N\\xFAmero\",\n              name: \"number\",\n              value: address.number,\n              onChange: handleChangeAddress,\n              width: 2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"Complemento\",\n              name: \"complement\",\n              value: address.complement,\n              onChange: handleChangeAddress,\n              width: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"CEP\",\n              name: \"cep\",\n              value: address.cep,\n              onChange: handleChangeAddress,\n              width: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"Bairro\",\n              name: \"neighborhood\",\n              value: address.neighborhood,\n              onChange: handleChangeAddress,\n              width: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"Cidade\",\n              name: \"city\",\n              value: address.city,\n              onChange: handleChangeAddress,\n              width: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"Celular\",\n              name: \"phone\",\n              value: address.phone,\n              onChange: handleChangeAddress,\n              width: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Button, {\n              onClick: () => setStepPage(1),\n              children: \"Voltar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Button, {\n              color: \"blue\",\n              onClick: () => setStepPage(3),\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 9\n  }, this);\n\n  const stepPayment = () => /*#__PURE__*/_jsxDEV(Grid, {\n    className: \"content-inner\",\n    children: [products.length > 0 && stepComponent(), /*#__PURE__*/_jsxDEV(Grid.Row, {\n      children: /*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 16,\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            children: /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"N\\xBA do cart\\xE3o\",\n              name: \"card-number\",\n              value: card['card-number'],\n              onChange: handleChangeCard,\n              width: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"Nome no cart\\xE3o\",\n              name: \"main-name\",\n              value: card['main-name'],\n              onChange: handleChangeCard,\n              width: 9\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"Data de vencimento\",\n              name: \"due-date\",\n              value: card['due-date'],\n              onChange: handleChangeCard,\n              width: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              label: \"C\\xF3d. de Seguran\\xE7a\",\n              name: \"safe-code\",\n              value: card['safe-code'],\n              onChange: handleChangeCard,\n              width: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Button, {\n              onClick: () => setStepPage(2),\n              children: \"Voltar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Button, {\n              color: \"blue\",\n              onClick: () => setStepPage(4),\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 9\n  }, this);\n\n  const stepResume = () => /*#__PURE__*/_jsxDEV(Grid, {\n    className: \"content-inner\",\n    children: [products.length > 0 && stepComponent(), /*#__PURE__*/_jsxDEV(Grid.Row, {\n      children: [/*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 10,\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          as: \"h3\",\n          children: \"Endere\\xE7o de entrega\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Destinat\\xE1rio:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 24\n          }, this), \" \", address.recipient]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Endere\\xE7o:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 24\n          }, this), \" \", `${address['street-name']}, ${address['number']}`, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 103\n          }, this), \" \", `${address['complement']} - ${address['neighborhood']}`, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 168\n          }, this), \" \", `${address['cep']} - ${address['city']}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Fone: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 24\n          }, this), \" \", address['phone']]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          basic: \"very\",\n          children: [/*#__PURE__*/_jsxDEV(Table.Header, {\n            children: /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.HeaderCell, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n                children: \"Quantidade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n                children: \"Pre\\xE7o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Table.Body, {\n            children: products && products.map(item => /*#__PURE__*/_jsxDEV(Table.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n                style: {\n                  textAlign: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item['image_thumb'],\n                  alt: \"\",\n                  height: \"76\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 84\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: `R$ ${item.price}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  circular: true,\n                  icon: \"trash alternate outline\",\n                  onClick: () => handleRemove(item.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setStepPage(3),\n          children: \"Voltar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 6,\n        children: /*#__PURE__*/_jsxDEV(Order, {\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            as: \"h3\",\n            children: \"Resumo do pedido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            verticalAlign: \"middle\",\n            children: [/*#__PURE__*/_jsxDEV(List.Item, {\n              children: [/*#__PURE__*/_jsxDEV(List.Content, {\n                floated: \"right\",\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: `R$ ${totalSum}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 63\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(List.Content, {\n                children: `${totalQuantity} produtos`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this), orderInfo && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(List.Item, {\n                children: [/*#__PURE__*/_jsxDEV(List.Content, {\n                  floated: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: `R$ ${orderInfo.value}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 71\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(List.Content, {\n                  children: \"Frete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n                children: /*#__PURE__*/_jsxDEV(List.Content, {\n                  children: [\"Entrega em \", orderInfo.days, \" \\xFAteis\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n                children: [/*#__PURE__*/_jsxDEV(List.Content, {\n                  floated: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: `R$ ${sumTotal(totalSum, orderInfo.value).toFixed(2)}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 71\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(List.Content, {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"TOTAL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 55\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                fluid: true,\n                color: \"green\",\n                onClick: () => handleSubmit(),\n                children: \"Finalizar pedido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Page, {\n    children: [/*#__PURE__*/_jsxDEV(Menu, {\n      page: \"cart\",\n      itemsQuantity: checkoutItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [stepPage === 1 && stepCheckout(), stepPage === 2 && stepAddress(), stepPage === 3 && stepPayment(), stepPage === 4 && stepResume()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 396,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Cart, \"GPrFMRNyFjSUsYRyOUcPVRYKnKE=\", false, function () {\n  return [useHistory, useToasts];\n});\n\n_c = Cart;\nexport default Cart;\nconst Page = styled.section`\n    .content-inner {\n        margin-top: 20px;\n    }\n    .table th {\n        border-top: none;\n    }\n`;\n_c2 = Page;\nconst Order = styled.div`\n    background-color: #f8f8f8;\n    padding: 15px;\n`;\n_c3 = Order;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Cart\");\n$RefreshReg$(_c2, \"Page\");\n$RefreshReg$(_c3, \"Order\");","map":{"version":3,"sources":["/home/andre/Documentos/gitproject/allmicroservices/src/pages/cart/index.js"],"names":["React","useState","useEffect","useHistory","styled","Grid","Container","Table","Message","Button","Header","List","Divider","Input","Step","Icon","Form","Menu","fetchData","listCache","setCache","postData","useToasts","Cart","history","initialAddress","cep","city","complement","neighborhood","number","phone","recipient","initialCard","addToast","products","setProducts","isLogged","setIsLogged","totalSum","setTotalSum","totalQuantity","setTotalQuantity","checkoutItems","setCheckoutItems","setCep","orderInfo","setOrderInfo","cepMessage","setCepMessage","stepPage","setStepPage","address","setAddress","card","setCard","sumOfProducts","checkout","convertToSum","map","item","price","replace","totalPrice","reduce","acumulador","valorAtual","parseFloat","toFixed","toString","sumTotal","productValue","deliveryValue","convertToSumA","convertToSumB","storage","auth","length","handleRemove","id","newStorage","filter","appearance","autoDismiss","cepValidate","then","data","shipping","catch","err","handleChangeAddress","event","value","target","name","handleChangeCard","handleSubmit","payload","user","idUser","sum","total","push","console","log","stepComponent","stepCheckout","textAlign","margin","e","days","stepAddress","stepPayment","stepResume","Page","section","Order","div"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport styled from 'styled-components';\nimport { Grid, Container, Table, Message, Button, Header, List, Divider, Input, Step, Icon, Form } from 'semantic-ui-react'\nimport Menu from '../../components/header';\nimport { fetchData, listCache, setCache, postData } from '../../services/Resource';\nimport { useToasts } from 'react-toast-notifications'\n\nconst Cart = () => {\n\n    let history = useHistory();\n\n    const initialAddress = {\n        cep: '',   \n        city: '',\n        complement: '',\n        neighborhood: '',\n        number: '',\n        phone: '',\n        recipient: '',\n        'street-name': ''\n    };\n\n    const initialCard = {\n        'card-number': '',\n        'due-date': '',\n        'main-name': '',        \n        'safe-code': ''\n    };\n\n    const { addToast } = useToasts();\n    const [ products, setProducts ] = useState([]);\n    const [ isLogged, setIsLogged ] = useState(false);\n    const [ totalSum, setTotalSum ] = useState('0,00');\n    const [ totalQuantity, setTotalQuantity ] = useState(0);\n    const [ checkoutItems, setCheckoutItems ] = useState(0);\n    const [ cep, setCep ] = useState('');\n    const [ orderInfo, setOrderInfo ] = useState(null);\n    const [ cepMessage, setCepMessage ] = useState(false);\n    const [ stepPage, setStepPage ] = useState(1);\n    const [address, setAddress] = useState(initialAddress);\n    const [ card, setCard ] = useState(initialCard);\n\n    const sumOfProducts = (checkout) => {\n        const convertToSum = checkout.map( item => item.price.replace(',', '.') );\n        const totalPrice = convertToSum.reduce( (acumulador, valorAtual) => acumulador + parseFloat(valorAtual), 0);\n\n        return totalPrice.toFixed(2).toString().replace('.', ',');\n    };\n\n    const sumTotal = (productValue, deliveryValue) => {\n        const convertToSumA = productValue.replace(',', '.');\n        const convertToSumB = deliveryValue.replace(',', '.');\n\n        return parseFloat(convertToSumA) + parseFloat(convertToSumB);\n    };\n\n    useEffect(() => {\n        const storage = listCache('storageCoffee');\n        const auth = listCache('userCoffee');\n\n        setTotalSum( storage ? sumOfProducts(storage) : 0 );\n        setTotalQuantity( storage ? storage.length : 0 );\n        setProducts( storage ? storage : [] );       \n        setIsLogged( auth ? true : false );   \n\n    }, [setProducts]);\n\n    const handleRemove = (id) => {\n        const newStorage = products.filter( item => item.id !== id);  \n\n        setCache('storageCoffee', [...newStorage]);\n        setProducts([...newStorage]);\n        setTotalSum(sumOfProducts(newStorage));\n        setCheckoutItems(newStorage.length);  \n        setTotalQuantity(newStorage.length);\n        addToast('Item removido de sua sacola', { appearance: 'success', autoDismiss: true });\n    };\n\n    const cepValidate = () => {\n        fetchData(`shipping/${cep}`).then(({ data }) => {\n            setOrderInfo(data.shipping);\n            setCepMessage(false);\n        }).catch(err => {\n            setCepMessage(true);\n        });\n    };\n\n    const handleChangeAddress = (event) => {\n        const value = event.target.value;\n\n        setAddress({\n            ...address,\n            [event.target.name]: value\n        });\n    };\n\n    const handleChangeCard = (event) => {\n        const value = event.target.value;\n\n        setCard({\n            ...card,\n            [event.target.name]: value\n        });\n    };\n\n    const handleSubmit = () => {\n\n        const auth = listCache('userCoffee');\n\n        const payload = {\n            user: {\n                idUser: auth.id.toString()\n            },\n            products,\n            address,\n            card\n        }\n\n        const sum = sumTotal(totalSum, orderInfo.value).toFixed(2);\n\n        payload.card.total = sum.toString().replace('.', ',');\n\n        postData(`checkout`, payload).then(({ data }) => {\n            history.push('/confirmed');\n        }).catch(err => {\n            console.log(err)\n        });\n    };\n\n    const stepComponent = () => (   \n        <Grid.Row>\n            <Grid.Column width={16}>\n                <Step.Group fluid size='tiny'>\n                    <Step active={stepPage === 1 ? true : false} disabled={stepPage === 1 ? false : true}>\n                    <Icon name='shopping basket' />\n                    <Step.Content>\n                        <Step.Title>Checkout</Step.Title>\n                        <Step.Description>Selecione os itens para compra</Step.Description>\n                    </Step.Content>\n                    </Step>\n\n                    <Step active={stepPage === 2 ? true : false} disabled={stepPage === 2 ? false : true}>\n                    <Icon name='home' />\n                    <Step.Content>\n                        <Step.Title>Endereo</Step.Title>\n                        <Step.Description>Digite o endereo para entrega</Step.Description>\n                    </Step.Content>\n                    </Step>\n\n                    <Step active={stepPage === 3 ? true : false} disabled={stepPage === 3 ? false : true}>\n                    <Icon name='payment' />\n                    <Step.Content>\n                        <Step.Title>Pagamento</Step.Title>\n                        <Step.Description>Digite os dados para pagamento</Step.Description>\n                    </Step.Content>\n                    </Step>\n                    \n                    <Step active={stepPage === 4 ? true : false} disabled={stepPage === 4 ? false : true}>\n                    <Icon name='file alternate outline' />\n                    <Step.Content>\n                        <Step.Title>Pedido</Step.Title>\n                        <Step.Description>Revise e confirme o pedido</Step.Description>\n                    </Step.Content>\n                    </Step>\n                </Step.Group>\n            </Grid.Column>\n        </Grid.Row>\n    );\n\n    const stepCheckout = () => (\n        <Grid className=\"content-inner\">   \n            { products.length > 0 && stepComponent() }\n            <Grid.Row>                        \n                <Grid.Column width={10}>\n                    { products.length > 0 ?    \n                        <>                    \n                        <Table basic='very'>\n                            <Table.Header>\n                            <Table.Row>\n                                <Table.HeaderCell></Table.HeaderCell>\n                                <Table.HeaderCell></Table.HeaderCell>\n                                <Table.HeaderCell>Quantidade</Table.HeaderCell>\n                                <Table.HeaderCell>Preo</Table.HeaderCell>\n                                <Table.HeaderCell></Table.HeaderCell>\n                            </Table.Row>\n                            </Table.Header>\n\n                            <Table.Body>\n                                { products &&\n                                    products.map( item => \n                                        <Table.Row>\n                                            <Table.Cell style={{ textAlign: 'center'}}><img src={item['image_thumb']} alt=\"\" height=\"76\" /></Table.Cell>\n                                            <Table.Cell>{item.name}</Table.Cell>\n                                            <Table.Cell>1</Table.Cell>\n                                            <Table.Cell>{`R$ ${item.price}`}</Table.Cell>\n                                            <Table.Cell><Button circular icon=\"trash alternate outline\" onClick={() => handleRemove(item.id)} /></Table.Cell>\n                                        </Table.Row>  \n                                    )\n                                }\n                            </Table.Body>\n                        </Table>\n                        \n                        <Divider />\n\n                        <span>Calcule frete e prazo</span>                  \n                        <Input placeholder='Digite o cep' maxlength=\"8\" style={{ margin: '0 10px' }} value={cep} onChange={ e => setCep(e.target.value) } />\n                        <Button content='OK' color=\"blue\" onClick={() => cepValidate()} />\n\n                        {cepMessage && <Message visible warning>Ops, ocorreu um erro inesperado. Tente novamente.</Message> }\n\n                        </>\n\n                        :\n\n                        <Message visible>Sua sacola est vazia</Message>\n                    }\n                </Grid.Column> \n                {products.length > 0 && \n                \n                <Grid.Column width={6}>\n                    <Order>\n                        <Header as='h3'>Resumo do pedido</Header>\n                        <List verticalAlign='middle'>\n                            <List.Item>\n                                <List.Content floated='right'><strong>{`R$ ${totalSum}`}</strong></List.Content>\n                                <List.Content>{`${totalQuantity} produtos`}</List.Content>\n                            </List.Item>\n\n                            { orderInfo &&\n                                <>                                    \n                                    <List.Item>\n                                        <List.Content floated='right'><strong>{`R$ ${orderInfo.value}`}</strong></List.Content>\n                                        <List.Content>Frete</List.Content>\n                                    </List.Item>\n                                    <List.Item>\n                                    <List.Content>Entrega em {orderInfo.days} teis</List.Content>\n                                    </List.Item>                                       \n\n                                    <Divider />\n\n                                    <List.Item>\n                                        <List.Content floated='right'><strong>{`R$ ${sumTotal(totalSum, orderInfo.value).toFixed(2)}`}</strong></List.Content>\n                                        <List.Content><strong>TOTAL</strong></List.Content>\n                                    </List.Item>\n\n                                    <Divider />\n\n                                    <Button fluid color=\"yellow\" onClick={() => { \n                                        if(isLogged){ setStepPage(2) } else { setCache('goBack', 'sacola'); history.push('/login') };  \n                                    } }>Fechar pedido</Button>\n                                </>\n                            }                                   \n                        </List>\n                    </Order>\n                </Grid.Column> \n                }\n            </Grid.Row>        \n        </Grid>\n    );       \n\n    const stepAddress = () => (\n        <Grid className=\"content-inner\">\n            { products.length > 0 && stepComponent() }\n            <Grid.Row>\n                <Grid.Column width={16}>\n                    <Form>\n                        <Form.Group>\n                            <Form.Input fluid label='Destinatrio' name='recipient' value={address.recipient} onChange={handleChangeAddress} width={16} />\n                        </Form.Group>\n                        <Form.Group>                        \n                            <Form.Input fluid label='Endereo' name='street-name' value={address['street-name']} onChange={handleChangeAddress} width={8} />\n                            <Form.Input fluid label='Nmero' name='number' value={address.number} onChange={handleChangeAddress} width={2} />\n                            <Form.Input fluid label='Complemento' name='complement' value={address.complement} onChange={handleChangeAddress} width={6} />\n                        </Form.Group>\n                        <Form.Group>                        \n                            <Form.Input fluid label='CEP' name=\"cep\" value={address.cep} onChange={handleChangeAddress} width={4} />\n                            <Form.Input fluid label='Bairro' name=\"neighborhood\" value={address.neighborhood} onChange={handleChangeAddress} width={4} />\n                            <Form.Input fluid label='Cidade' name=\"city\" value={address.city} onChange={handleChangeAddress} width={4} />\n                            <Form.Input fluid label='Celular' name=\"phone\" value={address.phone} onChange={handleChangeAddress} width={4} />                        \n                        </Form.Group>\n                        <Form.Group>                        \n                            <Form.Button onClick={() => setStepPage(1) }>Voltar</Form.Button>\n                            <Form.Button color=\"blue\" onClick={() => setStepPage(3) }>Salvar</Form.Button>                      \n                        </Form.Group>                        \n                    </Form>\n                </Grid.Column>\n            </Grid.Row>\n        </Grid>\n    );\n\n    const stepPayment = () => (\n        <Grid className=\"content-inner\">\n            { products.length > 0 && stepComponent() }\n            <Grid.Row>\n                <Grid.Column width={16}>\n                    <Form>\n                        <Form.Group>\n                            <Form.Input fluid label='N do carto' name='card-number' value={card['card-number']} onChange={handleChangeCard} width={16} />\n                        </Form.Group>\n                        <Form.Group>                        \n                            <Form.Input fluid label='Nome no carto' name='main-name' value={card['main-name']} onChange={handleChangeCard} width={9} />\n                            <Form.Input fluid label='Data de vencimento' name='due-date' value={card['due-date']} onChange={handleChangeCard} width={4} />\n                            <Form.Input fluid label='Cd. de Segurana' name='safe-code' value={card['safe-code']} onChange={handleChangeCard} width={3} />\n                        </Form.Group>\n                        <Form.Group>                        \n                            <Form.Button onClick={() => setStepPage(2) }>Voltar</Form.Button>\n                            <Form.Button color=\"blue\" onClick={() => setStepPage(4) }>Salvar</Form.Button>                      \n                        </Form.Group>                        \n                    </Form>\n                </Grid.Column>\n            </Grid.Row>\n        </Grid>\n    );\n\n    const stepResume = () => (\n        <Grid className=\"content-inner\">\n            { products.length > 0 && stepComponent() }\n            <Grid.Row>\n                <Grid.Column width={10}>\n                    <Header as='h3'>Endereo de entrega</Header>\n                    <p><strong>Destinatrio:</strong> {address.recipient}</p>\n                    <p><strong>Endereo:</strong> {`${address['street-name']}, ${address['number']}`} <br /> {`${address['complement']} - ${address['neighborhood']}`} <br /> {`${address['cep']} - ${address['city']}`}</p>\n                    <p><strong>Fone: </strong> {address['phone']}</p>\n\n                    <Table basic='very'>\n                        <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell></Table.HeaderCell>\n                            <Table.HeaderCell></Table.HeaderCell>\n                            <Table.HeaderCell>Quantidade</Table.HeaderCell>\n                            <Table.HeaderCell>Preo</Table.HeaderCell>\n                            <Table.HeaderCell></Table.HeaderCell>\n                        </Table.Row>\n                        </Table.Header>\n\n                        <Table.Body>\n                            { products &&\n                                products.map( item => \n                                    <Table.Row>\n                                        <Table.Cell style={{ textAlign: 'center'}}><img src={item['image_thumb']} alt=\"\" height=\"76\" /></Table.Cell>\n                                        <Table.Cell>{item.name}</Table.Cell>\n                                        <Table.Cell>1</Table.Cell>\n                                        <Table.Cell>{`R$ ${item.price}`}</Table.Cell>\n                                        <Table.Cell><Button circular icon=\"trash alternate outline\" onClick={() => handleRemove(item.id)} /></Table.Cell>\n                                    </Table.Row>  \n                                )\n                            }\n                        </Table.Body>\n                    </Table>\n\n                    <Divider />\n\n                    <Button onClick={() => setStepPage(3) }>Voltar</Button>\n\n                </Grid.Column>\n                <Grid.Column width={6}>\n                    <Order>\n                        <Header as='h3'>Resumo do pedido</Header>\n                        <List verticalAlign='middle'>\n                            <List.Item>\n                                <List.Content floated='right'><strong>{`R$ ${totalSum}`}</strong></List.Content>\n                                <List.Content>{`${totalQuantity} produtos`}</List.Content>\n                            </List.Item>\n\n                            { orderInfo &&\n                                <>                                    \n                                    <List.Item>\n                                        <List.Content floated='right'><strong>{`R$ ${orderInfo.value}`}</strong></List.Content>\n                                        <List.Content>Frete</List.Content>\n                                    </List.Item>\n                                    <List.Item>\n                                    <List.Content>Entrega em {orderInfo.days} teis</List.Content>\n                                    </List.Item>                                       \n\n                                    <Divider />\n\n                                    <List.Item>\n                                        <List.Content floated='right'><strong>{`R$ ${sumTotal(totalSum, orderInfo.value).toFixed(2)}`}</strong></List.Content>\n                                        <List.Content><strong>TOTAL</strong></List.Content>\n                                    </List.Item>\n\n                                    <Divider />\n\n                                    <Button fluid color=\"green\" onClick={() => handleSubmit() }>Finalizar pedido</Button>\n                                </>\n                            }                                   \n                        </List>\n                    </Order>\n                </Grid.Column> \n            </Grid.Row>\n        </Grid>\n    );\n\n    return (\n        <Page>\n            <Menu page=\"cart\" itemsQuantity={checkoutItems} />\n            <Container>\n                { stepPage === 1 && stepCheckout() }   \n                { stepPage === 2 && stepAddress() }   \n                { stepPage === 3 && stepPayment() }   \n                { stepPage === 4 && stepResume() }             \n            </Container>\n        </Page>\n    )\n};\n\nexport default Cart;\n\nconst Page = styled.section`\n    .content-inner {\n        margin-top: 20px;\n    }\n    .table th {\n        border-top: none;\n    }\n`\n\nconst Order = styled.div`\n    background-color: #f8f8f8;\n    padding: 15px;\n` \n"]},"metadata":{},"sourceType":"module"}